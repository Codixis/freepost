{% extends 'AppBundle:Default:Community/template.html.twig' %}

{% block title %}
    About: {{ community.name }}
{% endblock %}

{% block javascript %}
    {{ parent() }}
    
    {% javascripts
        '@AppBundle/Resources/public/js/Community/about.js'
    %}
        <script src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock %}

{% block content %}
    
    <div class="about">
        
        <input type="hidden" name="communityHashId" value="{{ community.hashId }}" />
        
        <div class="text">
            {{ community.description|raw }}
        </div>
        
        {# I need the ID to reference this CKEditor textarea from javascript #}
        <div class="editor">
            <textarea id="descriptionEditor" name="descriptionEditor" class="ckeditor" rows="1" cols="1"></textarea>
        </div>
        
        {% if app.user %}
            <ul id="menu" class="menu">
                <li class="edit">
                    Edit
                </li>
                <li class="discard">
                    Discard
                </li>
                <li class="save">
                    Save
                </li>
                <li class="loading">
                    {% image '@AppBundle/Resources/public/images/loading-bar.gif' %}
                        <img id="loading" src="{{ asset_url }}" alt="" />
                    {% endimage %}
                </li>
            </ul>
        {% endif %}
    </div>
    
{% endblock %}




